package com.schwaben_devs.parser;
import java.util.ArrayList;
import java.util.List;

public class Parser {
    public static void parse(){
        // Beispiel-Log-String, der Fehlerzeilen und IDs enthält
        String log = "{\"requestType\":\"PUSH\",\"timestamp\":\"1732354426377284000\",\"log\":{\"id\":\"68c85339-a211-4d1e-a62a-112b05b17050\",\"start_time\":\"2024-11-23T09:33:46.377284Z\",\"duration\":45.46,\"write_config\":{\"ID\":\"68c85339-a211-4d1e-a62a-112b05b17050\",\"Offers\":[{\"OfferID\":\"cfcda8d3-f3f5-4d77-88eb-8fc7b0b0fc06\",\"RegionID\":119,\"CarType\":\"sports\",\"NumberDays\":3,\"NumberSeats\":5,\"StartTimestamp\":\"2023-03-12T00:00:00Z\",\"EndTimestamp\":\"2023-03-15T00:00:00Z\",\"Price\":3680,\"HasVollkasko\":false,\"FreeKilometers\":123},{\"OfferID\":\"12eda2fa-5005-40f7-8143-10f093211298\",\"RegionID\":87,\"CarType\":\"family\",\"NumberDays\":3,\"NumberSeats\":6,\"StartTimestamp\":\"2023-03-12T00:00:00Z\",\"EndTimestamp\":\"2023-03-15T00:00:00Z\",\"Price\":2490,\"HasVollkasko\":true,\"FreeKilometers\":394},{\"OfferID\":\"d1ba60bd-41c9-42b1-bb4c-899ba5ce2345\",\"RegionID\":82,\"CarType\":\"luxury\",\"NumberDays\":3,\"NumberSeats\":4,\"StartTimestamp\":\"2023-03-11T00:00:00Z\",\"EndTimestamp\":\"2023-03-14T00:00:00Z\",\"Price\":1942,\"HasVollkasko\":false,\"FreeKilometers\":863},{\"OfferID\":\"3b00f1b1-01f0-4ca8-bba7-62f1bf5a19e7\",\"RegionID\":57,\"CarType\":\"luxury\",\"NumberDays\":3,\"NumberSeats\":4,\"StartTimestamp\":\"2023-03-11T00:00:00Z\",\"EndTimestamp\":\"2023-03-14T00:00:00Z\",\"Price\":4959,\"HasVollkasko\":false,\"FreeKilometers\":515},{\"OfferID\":\"d4694fad-8ebb-4c0e-96e6-814f9cf962eb\",\"RegionID\":111,\"CarType\":\"family\",\"NumberDays\":3,\"NumberSeats\":6,\"StartTimestamp\":\"2023-03-12T00:00:00Z\",\"EndTimestamp\":\"2023-03-15T00:00:00Z\",\"Price\":2983,\"HasVollkasko\":true,\"FreeKilometers\":418},{\"OfferID\":\"ba6f9eb2-21d8-4b4e-9d92-2e2eda600ad2\",\"RegionID\":124,\"CarType\":\"luxury\",\"NumberDays\":2,\"NumberSeats\":3,\"StartTimestamp\":\"2023-03-11T00:00:00Z\",\"EndTimestamp\":\"2023-03-13T00:00:00Z\",\"Price\":1707,\"HasVollkasko\":true,\"FreeKilometers\":543},{\"OfferID\":\"1fa8fa8b-15c4-45cd-b25d-a757c119114e\",\"RegionID\":108,\"CarType\":\"small\",\"NumberDays\":3,\"NumberSeats\":4,\"StartTimestamp\":\"2023-03-12T00:00:00Z\",\"EndTimestamp\":\"2023-03-15T00:00:00Z\",\"Price\":1506,\"HasVollkasko\":false,\"FreeKilometers\":179},{\"OfferID\":\"fe1d6d06-9306-494f-9ae5-5775925f7655\",\"RegionID\":67,\"CarType\":\"small\",\"NumberDays\":2,\"NumberSeats\":6,\"StartTimestamp\":\"2023-03-13T00:00:00Z\",\"EndTimestamp\":\"2023-03-15T00:00:00Z\",\"Price\":6942,\"HasVollkasko\":true,\"FreeKilometers\":587},{\"OfferID\":\"437ca6c3-ce7f-4b52-bff1-371131481c38\",\"RegionID\":104,\"CarType\":\"family\",\"NumberDays\":2,\"NumberSeats\":4,\"StartTimestamp\":\"2023-03-12T00:00:00Z\",\"EndTimestamp\":\"2023-03-14T00:00:00Z\",\"Price\":3812,\"HasVollkasko\":true,\"FreeKilometers\":531},{\"OfferID\":\"efe0c0ef-b681-4673-b1f6-776a3082bcf7\",\"RegionID\":94,\"CarType\":\"family\",\"NumberDays\":4,\"NumberSeats\":3,\"StartTimestamp\":\"2023-03-11T00:00:00Z\",\"EndTimestamp\":\"2023-03-15T00:00:00Z\",\"Price\":2887,\"HasVollkasko\":true,\"FreeKilometers\":852}]}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426421847000\",\"log\":{\"id\":\"cd378365-1a59-4648-b0dc-9f37c550c8ea\",\"start_time\":\"2024-11-23T09:33:46.421847Z\",\"duration\":8.045,\"expected_result\":{\"Offers\":[{\"OfferID\":\"1fa8fa8b-15c4-45cd-b25d-a757c119114e\",\"IsDataCorrect\":true},{\"OfferID\":\"12eda2fa-5005-40f7-8143-10f093211298\",\"IsDataCorrect\":true},{\"OfferID\":\"d4694fad-8ebb-4c0e-96e6-814f9cf962eb\",\"IsDataCorrect\":true},{\"OfferID\":\"cfcda8d3-f3f5-4d77-88eb-8fc7b0b0fc06\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":2,\"luxury\":0,\"small\":1,\"sports\":1},\"FreeKilometerRanges\":[{\"Start\":100,\"End\":150,\"Count\":1},{\"Start\":150,\"End\":200,\"Count\":1},{\"Start\":350,\"End\":400,\"Count\":1},{\"Start\":400,\"End\":450,\"Count\":1}],\"PriceRanges\":[{\"Start\":1500,\"End\":1510,\"Count\":1},{\"Start\":2490,\"End\":2500,\"Count\":1},{\"Start\":2980,\"End\":2990,\"Count\":1},{\"Start\":3680,\"End\":3690,\"Count\":1}],\"SeatsCounts\":{\"4\":1,\"5\":1,\"6\":2},\"VollkaskoCount\":{\"TrueCount\":2,\"FalseCount\":2}},\"search_config\":{\"ID\":\"cd378365-1a59-4648-b0dc-9f37c550c8ea\",\"RegionID\":0,\"StartRange\":\"2023-03-12T00:00:00Z\",\"EndRange\":\"2023-03-15T00:00:00Z\",\"NumberDays\":3,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426421847000\",\"log\":{\"id\":\"b5c49000-6292-4885-b56a-901619ec17e8\",\"start_time\":\"2024-11-23T09:33:46.421847Z\",\"duration\":9.627,\"expected_result\":{\"Offers\":[{\"OfferID\":\"d1ba60bd-41c9-42b1-bb4c-899ba5ce2345\",\"IsDataCorrect\":true},{\"OfferID\":\"3b00f1b1-01f0-4ca8-bba7-62f1bf5a19e7\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":0,\"luxury\":2,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":500,\"End\":550,\"Count\":1},{\"Start\":850,\"End\":900,\"Count\":1}],\"PriceRanges\":[{\"Start\":1940,\"End\":1950,\"Count\":1},{\"Start\":4950,\"End\":4960,\"Count\":1}],\"SeatsCounts\":{\"4\":2},\"VollkaskoCount\":{\"TrueCount\":0,\"FalseCount\":2}},\"search_config\":{\"ID\":\"b5c49000-6292-4885-b56a-901619ec17e8\",\"RegionID\":0,\"StartRange\":\"2023-03-11T00:00:00Z\",\"EndRange\":\"2023-03-14T00:00:00Z\",\"NumberDays\":3,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426421847000\",\"log\":{\"id\":\"39d81173-f8c5-4d13-af4b-56ebb8654014\",\"start_time\":\"2024-11-23T09:33:46.421847Z\",\"duration\":48.91,\"expected_result\":{\"Offers\":[{\"OfferID\":\"efe0c0ef-b681-4673-b1f6-776a3082bcf7\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":1,\"luxury\":0,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":850,\"End\":900,\"Count\":1}],\"PriceRanges\":[{\"Start\":2880,\"End\":2890,\"Count\":1}],\"SeatsCounts\":{\"3\":1},\"VollkaskoCount\":{\"TrueCount\":1,\"FalseCount\":0}},\"search_config\":{\"ID\":\"39d81173-f8c5-4d13-af4b-56ebb8654014\",\"RegionID\":0,\"StartRange\":\"2023-03-11T00:00:00Z\",\"EndRange\":\"2023-03-15T00:00:00Z\",\"NumberDays\":4,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426421847000\",\"log\":{\"id\":\"40e4e976-b28f-4066-8d7d-503dca8d6d82\",\"start_time\":\"2024-11-23T09:33:46.421847Z\",\"duration\":48.916,\"expected_result\":{\"Offers\":[{\"OfferID\":\"437ca6c3-ce7f-4b52-bff1-371131481c38\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":1,\"luxury\":0,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":500,\"End\":550,\"Count\":1}],\"PriceRanges\":[{\"Start\":3810,\"End\":3820,\"Count\":1}],\"SeatsCounts\":{\"4\":1},\"VollkaskoCount\":{\"TrueCount\":1,\"FalseCount\":0}},\"search_config\":{\"ID\":\"40e4e976-b28f-4066-8d7d-503dca8d6d82\",\"RegionID\":0,\"StartRange\":\"2023-03-12T00:00:00Z\",\"EndRange\":\"2023-03-14T00:00:00Z\",\"NumberDays\":2,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426421847000\",\"log\":{\"id\":\"9d8b5f78-30ac-4e60-a14e-69fed327f0b7\",\"start_time\":\"2024-11-23T09:33:46.421847Z\",\"duration\":4.446,\"expected_result\":{\"Offers\":[{\"OfferID\":\"efe0c0ef-b681-4673-b1f6-776a3082bcf7\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":1,\"luxury\":0,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":850,\"End\":900,\"Count\":1}],\"PriceRanges\":[{\"Start\":2880,\"End\":2890,\"Count\":1}],\"SeatsCounts\":{\"3\":1},\"VollkaskoCount\":{\"TrueCount\":1,\"FalseCount\":0}},\"search_config\":{\"ID\":\"9d8b5f78-30ac-4e60-a14e-69fed327f0b7\",\"RegionID\":0,\"StartRange\":\"2023-03-11T00:00:00Z\",\"EndRange\":\"2023-03-15T00:00:00Z\",\"NumberDays\":4,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426426847000\",\"log\":{\"id\":\"7703c488-ad4e-4595-a3eb-9f0eb9afdfe0\",\"start_time\":\"2024-11-23T09:33:46.426847Z\",\"duration\":57.005,\"expected_result\":{\"Offers\":[{\"OfferID\":\"437ca6c3-ce7f-4b52-bff1-371131481c38\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":1,\"luxury\":0,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":500,\"End\":550,\"Count\":1}],\"PriceRanges\":[{\"Start\":3810,\"End\":3820,\"Count\":1}],\"SeatsCounts\":{\"4\":1},\"VollkaskoCount\":{\"TrueCount\":1,\"FalseCount\":0}},\"search_config\":{\"ID\":\"7703c488-ad4e-4595-a3eb-9f0eb9afdfe0\",\"RegionID\":0,\"StartRange\":\"2023-03-12T00:00:00Z\",\"EndRange\":\"2023-03-14T00:00:00Z\",\"NumberDays\":2,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426431847000\",\"log\":{\"id\":\"ab0fa38f-f956-4bab-aeae-0cc492ecffda\",\"start_time\":\"2024-11-23T09:33:46.431847Z\",\"duration\":52.015,\"expected_result\":{\"Offers\":[{\"OfferID\":\"efe0c0ef-b681-4673-b1f6-776a3082bcf7\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":1,\"luxury\":0,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":850,\"End\":900,\"Count\":1}],\"PriceRanges\":[{\"Start\":2880,\"End\":2890,\"Count\":1}],\"SeatsCounts\":{\"3\":1},\"VollkaskoCount\":{\"TrueCount\":1,\"FalseCount\":0}},\"search_config\":{\"ID\":\"ab0fa38f-f956-4bab-aeae-0cc492ecffda\",\"RegionID\":0,\"StartRange\":\"2023-03-11T00:00:00Z\",\"EndRange\":\"2023-03-15T00:00:00Z\",\"NumberDays\":4,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426466847000\",\"log\":{\"id\":\"968c001a-9adb-4c6f-bc87-efa8a8564a48\",\"start_time\":\"2024-11-23T09:33:46.466847Z\",\"duration\":47.906,\"expected_result\":{\"Offers\":[{\"OfferID\":\"d1ba60bd-41c9-42b1-bb4c-899ba5ce2345\",\"IsDataCorrect\":true},{\"OfferID\":\"3b00f1b1-01f0-4ca8-bba7-62f1bf5a19e7\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":0,\"luxury\":2,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":500,\"End\":550,\"Count\":1},{\"Start\":850,\"End\":900,\"Count\":1}],\"PriceRanges\":[{\"Start\":1940,\"End\":1950,\"Count\":1},{\"Start\":4950,\"End\":4960,\"Count\":1}],\"SeatsCounts\":{\"4\":2},\"VollkaskoCount\":{\"TrueCount\":0,\"FalseCount\":2}},\"search_config\":{\"ID\":\"968c001a-9adb-4c6f-bc87-efa8a8564a48\",\"RegionID\":0,\"StartRange\":\"2023-03-11T00:00:00Z\",\"EndRange\":\"2023-03-14T00:00:00Z\",\"NumberDays\":3,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426466847000\",\"log\":{\"id\":\"57cbca76-b90f-49e7-ab2c-d577ddd50ecf\",\"start_time\":\"2024-11-23T09:33:46.466847Z\",\"duration\":51.92,\"expected_result\":{\"Offers\":[{\"OfferID\":\"ba6f9eb2-21d8-4b4e-9d92-2e2eda600ad2\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":0,\"luxury\":1,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":500,\"End\":550,\"Count\":1}],\"PriceRanges\":[{\"Start\":1700,\"End\":1710,\"Count\":1}],\"SeatsCounts\":{\"3\":1},\"VollkaskoCount\":{\"TrueCount\":1,\"FalseCount\":0}},\"search_config\":{\"ID\":\"57cbca76-b90f-49e7-ab2c-d577ddd50ecf\",\"RegionID\":0,\"StartRange\":\"2023-03-11T00:00:00Z\",\"EndRange\":\"2023-03-13T00:00:00Z\",\"NumberDays\":2,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n" +
                "{\"requestType\":\"READ\",\"timestamp\":\"1732354426481847000\",\"log\":{\"id\":\"cbd14f41-1115-47ae-bda4-21f8e208361a\",\"start_time\":\"2024-11-23T09:33:46.481847Z\",\"duration\":48.9,\"expected_result\":{\"Offers\":[{\"OfferID\":\"d1ba60bd-41c9-42b1-bb4c-899ba5ce2345\",\"IsDataCorrect\":true},{\"OfferID\":\"3b00f1b1-01f0-4ca8-bba7-62f1bf5a19e7\",\"IsDataCorrect\":true}],\"CarTypeCounts\":{\"family\":0,\"luxury\":2,\"small\":0,\"sports\":0},\"FreeKilometerRanges\":[{\"Start\":500,\"End\":550,\"Count\":1},{\"Start\":850,\"End\":900,\"Count\":1}],\"PriceRanges\":[{\"Start\":1940,\"End\":1950,\"Count\":1},{\"Start\":4950,\"End\":4960,\"Count\":1}],\"SeatsCounts\":{\"4\":2},\"VollkaskoCount\":{\"TrueCount\":0,\"FalseCount\":2}},\"search_config\":{\"ID\":\"cbd14f41-1115-47ae-bda4-21f8e208361a\",\"RegionID\":0,\"StartRange\":\"2023-03-11T00:00:00Z\",\"EndRange\":\"2023-03-14T00:00:00Z\",\"NumberDays\":3,\"CarType\":null,\"OnlyVollkasko\":null,\"MinFreeKilometer\":null,\"MinNumberSeats\":null,\"MinPrice\":null,\"MaxPrice\":null,\"Pagination\":{\"Page\":0,\"PageSize\":100},\"Order\":\"price-asc\",\"PriceBucketWidth\":10,\"FreeKmBucketWidth\":50},\"search_error\":{\"error\":\"failed to get offers: 200 JSON response is nil - got: 'GET Request erfolgreich ye\\n'\"}}}\n";

        // Fehler und IDs extrahieren
        List<String> errors = Parser.findErrorMessages(log);

        // Alle Fehlernachrichten ausgeben
        for (String error : errors) {
            System.out.println(error);
        }
    }
    public static List<String> findErrorMessages(String input) {
        List<String> errorMessages = new ArrayList<>();

        // Split input string into lines
        String[] lines = input.split("\\r?\\n");

        // Iterate through each line
        for (int i = 0; i < lines.length; i++) {
            String line = lines[i].trim();



            // Extrahiere ID aus der aktuellen Zeile
            String id = extractIdFromCurrentLine(line);

            // Check for "SEARCH_ERROR"
            if (line.toUpperCase().contains("SEARCH_ERROR")) {
                int errorIndex = line.toUpperCase().indexOf("SEARCH_ERROR");
                if (errorIndex != -1) {
                    String errorMessage = line.substring(errorIndex + 13).trim(); // Extract error message
                    errorMessages.add("ID: " + id + " | SEARCH_ERROR: " + errorMessage);
                }
            }
            // Check for "ERROR"
            else if (line.toUpperCase().contains("ERROR")) {
                int errorIndex = line.toUpperCase().indexOf("ERROR");
                if (errorIndex != -1) {
                    String errorMessage = line.substring(errorIndex + 6).trim(); // Extract error message
                    errorMessages.add("ID: " + id + " | ERROR: " + errorMessage);
                }
            }
        }

        return errorMessages;
    }

    private static String extractIdFromCurrentLine(String line) {
        // Wir suchen nach der ID in der aktuellen Zeile (z.B. im JSON-Format "id":"12345")
        if (line.contains("\"id\":\"")) {
            int idIndex = line.indexOf("\"id\":\"");
            if (idIndex != -1) {
                // Extrahieren der ID aus der Zeile
                return line.substring(idIndex + 6, line.indexOf("\"", idIndex + 6));
            }
        }
        // Falls keine ID gefunden wurde, geben wir eine Default-ID zurück
        return "No ID Found";
    }
}
